<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>제이쿼리</title>
  <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  <style>
    h1 {
      text-align: center;
    }

    table,
    th,
    td {
      border: 1px solid black;
      border-collapse: collapse;
    }

    table {
      width: 800px;
      margin: 10px auto;
    }

    th,
    td {
      width: 200px;
      height: 40px;
      text-align: center;
    }
    th:nth-child(2){width: 800px;}
  </style>
  <script>
    $(function () {
      var data = "";
      var titleArr = [
        "익스프레스 체크아웃 서비스 오픈",
        "안전한 먹거리 제공을 위해 한국식품안전관리인증원MOU체결",
        "해브나인 스파 이용요금 인상안내",
        "해브나인 스파 7년 연속 '우수웰니스관광지' 선정",
        "호반호텔앤리조트 산학협력 우수기업 표창",
        "제천 주요 여행지 제휴혜택 안내",
      ];
      for (var i = 0; i <= 5; i++) {
        data += `<tr id='${i+1}'>`;
        data += `<td class='num'> ${i+1} </td>`;
        data += `<td>${titleArr[i]}</td>`;
        data += "<td>관리자</td>";
        data += "<td class='dd'><button class='delBtn'>삭제</button></td>";
        data += "</tr>";
      }
      $("#tbody").html(data);

      // 약식 btn 클릭 이벤트 - 정적 이벤트
      $("#btn").click(function(){
        alert("class 속성값: " + $("#tbody").attr("class")); //c01
      });


      // $(document).on("click","#btn",function(){
      //   alert("동적이벤트 버튼");
      // });


      // 표준 이벤트 등록 (여러개 가능) - 동적 이벤트
      // $(document).on("click change keyup","btn",function(){
      // })

      // num 클릭 이벤트
      $(".num").click(function(){
        console.log($(this).next().text());
        console.log($(this).next().next().text());
        console.log($(this).next().next().next().html());
        
      });

      // delBtn 클릭 이벤트
      $(".delBtn").click(function(){
        console.log($(this).closest("tr").attr("id")); // 1, 2, 3
      //   var pthis = $(this).parent();
      //  console.log(pthis.prev().text());
      //  console.log(pthis.prev().prev().text());
      //  console.log(pthis.prev().prev().prev().text());


        // alert($(this).parent().parent().attr("id")); // 현재 부모의 속성
        // var delId = $(this).parent().parent().attr("id");
        // $("#"+delId).remove();
        
      });
    });

  </script>
</head>

<body>
  <h1>게시판</h1>
  <table>
    <thead>
      <tr>
        <th>번호</th>
        <th>제목</th>
        <th>작성자</th>
        <th>삭제</th>
      </tr>
    </thead>
    <tbody id="tbody" class="c01">
      <tr>
        <td id="1">1</td>
        <td>이벤트 안내</td>
        <td>관리자</td>
        <td><button>삭제</button></td>
      </tr>
    </tbody>
    <button id="btn">tbody class값</button>
  </table>

</body>

</html>